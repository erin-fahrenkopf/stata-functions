/* This file cleans up words that are abbrievated or misspelled in a list of names so the list of 
names systematically uses the same language and spelling. Also corrects frequent misspellings


Last Updated: 10/21/2012 by Erin McKinney

*/

	*replace assignee= regexs(1)+regexs(2) if regexm(assignee,"(UNIVERSITY )([A-Z]*[ ]*[A-Z]*)( RESEARCH FOUNDATION)")
	replace assignee = regexr(assignee, "PHARMA ", "PHARMACEUTICAL ")
		replace assignee= regexr(assignee,"PHARMA$","PHARMACEUTICAL")
		replace assignee = regexr(assignee, "PHARM ", "PHARMACEUTICAL ")
		replace assignee= regexr(assignee,"PHARM$","PHARMACEUTICAL")
		replace assignee= regexr(assignee,"PHARMACUETICALS","PHARMACEUTICALS")
		replace assignee= regexr(assignee,"PHARAMACEUTICALS","PHARMACEUTICALS")
		replace assignee= regexr(assignee,"PHARMACETICALS","PHARMACEUTICALS")
		replace assignee= regexr(assignee,"PHARMACEUTICALS","PHARMACEUTICALS")
		replace assignee= regexr(assignee,"PHRAMACEUTICALS","PHARMACEUTICALS")
	replace assignee = regexr(assignee, "PROD ", "PRODUCTS ")
		replace assignee= regexr(assignee,"PROD$","PRODUCTS")
	replace assignee = regexr(assignee, "ENG ", "ENGINEERING ")
		replace assignee= regexr(assignee,"ENG$","ENGINEERING")
	replace assignee = regexr(assignee, "ASSOC ", "ASSOCIATION ")
		replace assignee= regexr(assignee,"ASSOC$","ASSOCIATION")	
	replace assignee = regexr(assignee, "TECHNHOLOGY", "TECHNOLOGY")
	replace assignee = regexr(assignee, "TECHOLOGY", "TECHNOLOGY")
	replace assignee = regexr(assignee, "BIOTECH ", "BIOTECHNOLOGY ")
	replace assignee = regexr(assignee, "BIOTECH$", "BIOTECHNOLOGY")
	replace assignee= regexr(assignee,"FOUND$","FOUNDATION")
	replace assignee= regexr(assignee,"FOUN$","FOUNDATION")
	replace assignee = regexr(assignee, " MFG", " MANUFACTURING")
	replace assignee = regexr(assignee, " MANUF ", " MANUFACTURING ")
	replace assignee = regexr(assignee, " MANUF$", " MANUFACTURING")
	replace assignee = regexr(assignee, "&", "AND")
	replace assignee= regexr(assignee,"^[I][N][T] ","INTERNATIONAL ")
		replace assignee= regexr(assignee,"^INTERNAT ","INTERNATIONAL ")
		replace assignee= regexr(assignee," INTL$"," INTERNATIONAL")
		replace assignee= regexr(assignee,"INTERNATIOANL","INTERNATIONAL")
		replace assignee= regexr(assignee,"INTERATIONAL","INTERNATIONAL")
		replace assignee= regexr(assignee,"INTENATIONAL","INTERNATIONAL")
	replace assignee = regexr(assignee, "DEV ", "DEVELOPMENT ")
		replace assignee= regexr(assignee,"[D][E][V]$","DEVELOPMENT")
	replace assignee = regexr(assignee, "RES ", "RESEARCH ")
		replace assignee= regexr(assignee,"[R][E][S]$","RESEARCH")
		replace assignee= regexr(assignee,"RESEACH","RESEARCH")
	replace assignee = regexr(assignee, "INST ", "INSTITUTE ")
		replace assignee= regexr(assignee,"[I][N][S][T]$","INSTITUTE")
	replace assignee = regexr(assignee, "UNIV ", "UNIVERSITY ")
		replace assignee = regexr(assignee, "UNVERSITY", "UNIVERSITY")
		replace assignee= regexr(assignee,"UNIV$","UNIVERSITY")
	replace assignee = regexr(assignee, "TECHN ", "TECHNOLOGY ")
		replace assignee= regexr(assignee,"TECHN$","TECHNOLOGY")
	replace assignee = regexr(assignee, "TECH ", "TECHNOLOGY ")
		replace assignee= regexr(assignee,"TECH $","TECHNOLOGY")	
	replace assignee = regexr(assignee, "IND ", "INDUSTRIES ")
		replace assignee= regexr(assignee,"IND$","INDUSTRIES")
	replace assignee = regexr(assignee, "EQUIP ", "EQUIPMENT ")
		replace assignee= regexr(assignee,"EQUIP$","EQUIPMENT")
	replace assignee = regexr(assignee, "MACH ", "MACHINERY ")
		replace assignee= regexr(assignee,"MACH$","MACHINERY")
		replace assignee= regexr(assignee,"MACHINER ","MACHINERY ")
		replace assignee= regexr(assignee,"MACHINER$","MACHINERY")
	replace assignee = regexr(assignee, "CONST ", "CONSTRUCTION ")
		replace assignee= regexr(assignee,"CONST$","CONSTRUCTION")
		replace assignee= regexr(assignee," CT$","CENTER")
	replace assignee = regexr(assignee, "INSTR ", "INSTRUMENT ")
		replace assignee = regexr(assignee, "INSTRUMETNS", "INSTRUMENTS")
		replace assignee= regexr(assignee,"INSTR$","INSTRUMENT")
	replace assignee = regexr(assignee, "INF ", "INFORMATION ")
		replace assignee= regexr(assignee,"INF$","INFORMATION")
	replace assignee= regexr(assignee,"LABS$","LABORATORIES")
	replace assignee= regexr(assignee," LAB$"," LABORATORY")
	replace assignee= regexr(assignee,"^NAT ","NATIONAL ")
	replace assignee= regexr(assignee,"^GEN ","GENERAL ")
	replace assignee= regexr(assignee,"^U S ","US ")
	replace assignee = regexr(assignee, "TCCHNOLOGY", "TECHNOLOGY")
	replace assignee = regexr(assignee, "TECHHNOLOGY", "TECHNOLOGY")
	replace assignee = regexr(assignee, "CHEM ", "CHEMICAL ")
		replace assignee= regexr(assignee,"CHEM$","CHEMICAL")
		replace assignee= regexr(assignee,"FLEX$","FLEXIBLE")
		replace assignee= regexr(assignee,"FLEX ","FLEXIBLE ")
		replace assignee= regexr(assignee,"LABORATOIES","LABORATORIES")
		replace assignee= regexr(assignee,"LABORATORIS","LABORATORIES")
		replace assignee= regexr(assignee,"LABORTORIES","LABORATORIES")
	replace assignee = regexr(assignee, "PODUCTS", "PRODUCTS")
	replace assignee = regexr(assignee, "POCUCTS", "PRODUCTS")
	replace assignee = regexr(assignee, "PHTONICS", "PHOTONICS")
	replace assignee = regexr(assignee, "PHIIPS", "PHILIPS")
		replace assignee = regexr(assignee, "PHILLIPS", "PHILIPS")
	replace assignee = regexr(assignee, "SYATEMS", "SYSTEMS")
			replace assignee = regexr(assignee, "SYSTEME", "SYSTEMS")
		replace assignee = regexr(assignee, "MAGNETIC", "MAGENTIC")
	replace assignee = regexr(assignee, "ANTHORITY", "AUTHORITY")
	replace assignee = regexr(assignee, "ENGINEERIN$", "ENGINEERING")
		replace assignee = regexr(assignee, "ENGINEERIN ", "ENGINEERING ")
	replace assignee = regexr(assignee, "PRCCISION", "PRECISION")
	replace assignee = regexr(assignee, "SPECIALTY", "SPECIALITY")
	replace assignee = regexr(assignee, "ELECTRONIES", "ELECTRONICS")
	replace assignee = regexr(assignee, "ARICRAFT", "AIRCRAFT")
	replace assignee = regexr(assignee, "TELECOMMUICATIONS ", "TELECOMMUNICATIONS")
*********add in from excel file, cleaning up words tab
replace assignee = regexr(assignee, "CAMPANY", "COMPANY")
replace assignee = regexr(assignee, "COMMUNCATIONS", "COMMUNICATIONS")
replace assignee = regexr(assignee, "COMMUNCIATIONS", "COMMUNICATIONS")
replace assignee = regexr(assignee, "COMMUNIATIONS", "COMMUNICATIONS")
replace assignee = regexr(assignee, "COMMUNICATIONS", "COMMUNICATIONS")
replace assignee = regexr(assignee, "COMOPANY", "COMPANY")
replace assignee = regexr(assignee, "COMPANAY", "COMPANY")
replace assignee = regexr(assignee, "COMPANT", "COMPANY")
replace assignee = regexr(assignee, "COMPANU", "COMPANY")
replace assignee = regexr(assignee, "COMPANYA", "COMPANY")
replace assignee = regexr(assignee, "COMPANYY", "COMPANY")
replace assignee = regexr(assignee, "COMPNAY", "COMPANY")
replace assignee = regexr(assignee, "COMPSANY", "COMPANY")
replace assignee = regexr(assignee, "COOMPANY", "COMPANY")
replace assignee = regexr(assignee, "COPANY", "COMPANY")
replace assignee = regexr(assignee, "COPMANY", "COMPANY")
replace assignee = regexr(assignee, "COPMAY", "COMPANY")
replace assignee = regexr(assignee, "COPMPANY", "COMPANY")
replace assignee = regexr(assignee, "COPORATION", "CORPORATION")
replace assignee = regexr(assignee, "CORMPANY", "COMPANY")
replace assignee = regexr(assignee, "CORPATION", "CORPORATION")
replace assignee = regexr(assignee, "CORPOATION", "CORPORATION")
replace assignee = regexr(assignee, "CORPORARTION", "CORPORATION")
replace assignee = regexr(assignee, "CORPORAT$", "CORPORATION")
replace assignee = regexr(assignee, "CORPORATED", "CORPORATION")
replace assignee = regexr(assignee, "CORPORATIION", "CORPORATION")
replace assignee = regexr(assignee, "CORPORATIO$", "CORPORATION")
replace assignee = regexr(assignee, "CORPORTATION", "CORPORATION")
replace assignee = regexr(assignee, "CORPOTATION", "CORPORATION")
replace assignee = regexr(assignee, "CORPROATION", "CORPORATION")
replace assignee = regexr(assignee, "DELEVOPMENT", "DEVELOPMENT")
replace assignee = regexr(assignee, "DEVELEPMENT", "DEVELOPMENT")
replace assignee = regexr(assignee, "DEVELOMENT", "DEVELOPMENT")
replace assignee = regexr(assignee, "DEVELOPEMENT", "DEVELOPMENT")
replace assignee = regexr(assignee, "DEVELOPMENT", "DEVELOPMENT")
replace assignee = regexr(assignee, "DEVELOPPEMENT", "DEVELOPMENT")
replace assignee = regexr(assignee, "DEVELPMENT", "DEVELOPMENT")
replace assignee = regexr(assignee, "DEVELPOMENT", "DEVELOPMENT")
replace assignee = regexr(assignee, "DEVLEOPMENT", "DEVELOPMENT")
replace assignee = regexr(assignee, "DEVLEPMENT", "DEVELOPMENT")
replace assignee = regexr(assignee, "DEVLOPMENT", "DEVELOPMENT")
replace assignee = regexr(assignee, "DEVOLPMENT", "DEVELOPMENT")
replace assignee = regexr(assignee, "INCOPPRPORATED", "INCORP")
replace assignee = regexr(assignee, "INCORPORARTED", "INCORP")
replace assignee = regexr(assignee, "INCORPORATEDC", "INCORP")
replace assignee = regexr(assignee, "INCORPORTED", "INCORP")
replace assignee = regexr(assignee, "INCORPROATED", "INCORP")
replace assignee = regexr(assignee, "INCROPORATED", "INCORP")
replace assignee = regexr(assignee, "INDUSRIES", "INDUSTRIES")
replace assignee = regexr(assignee, "INDUSTRIES", "INDUSTRIES")
replace assignee = regexr(assignee, "INNONATIVE", "INNOVATIVE")
replace assignee = regexr(assignee, "INNVATIVE", "INNOVATIVE")
replace assignee = regexr(assignee, "INSITITUTE", "INSTITUTE")
replace assignee = regexr(assignee, "INSTITTUE", "INSTITUTE")
replace assignee = regexr(assignee, "INTELECTUAL ", "INTELLECTUAL")
replace assignee = regexr(assignee, "INTELLECTUA ", "INTELLECTUAL")
replace assignee = regexr(assignee, "INTELLECTUAL", "INTELLECTUAL")
replace assignee = regexr(assignee, "INTELLECTUAL ", "INTELLECTUAL")
replace assignee = regexr(assignee, "INTELLECTUAL  ", "INTELLECTUAL")
replace assignee = regexr(assignee, "INTELLECTUALL ", "INTELLECTUAL")
replace assignee = regexr(assignee, "INTELLECTUEL ", "INTELLECTUAL")
replace assignee = regexr(assignee, "INTELLECUTAL ", "INTELLECTUAL")
replace assignee = regexr(assignee, "INTELLLECTUAL ", "INTELLECTUAL")
replace assignee = regexr(assignee, "MANUFACTORING", "MANUFACTURING")
replace assignee = regexr(assignee, "MANUFACTUING", "MANUFACTURING")
replace assignee = regexr(assignee, "MANUFACTURING", "MANUFACTURING")
replace assignee = regexr(assignee, "MANUFATCURING", "MANUFACTURING")
replace assignee = regexr(assignee, "SEMICONDDUCTOR", "SEMICONDUCTOR")
replace assignee = regexr(assignee, "SEMICONDUCTORCORP", "SEMICONDUCTOR")
replace assignee = regexr(assignee, "SEMICONDUTOR", "SEMICONDUCTOR")
replace assignee = regexr(assignee, "SEMINCONDUCTOR", "SEMICONDUCTOR")
replace assignee = regexr(assignee, "SPECIALY", "SPECIALITY")
replace assignee = regexr(assignee, "SPECIATLY ", "SPECIALITY")
replace assignee = regexr(assignee, "SPEICALTY ", "SPECIALITY")
replace assignee = regexr(assignee, "SPEICIALTY ", "SPECIALITY")
replace assignee = regexr(assignee, "STYSTEMS", "SYSTEMS")
replace assignee = regexr(assignee, "SYETEMS", "SYSTEMS")
replace assignee = regexr(assignee, "TECHNOLOGIY", "TECHNOLOGY")
replace assignee = regexr(assignee, "TECHNOLOGY", "TECHNOLOGY")
replace assignee = regexr(assignee, "TECHONOLOGY", "TECHNOLOGY")
replace assignee = regexr(assignee, "TEHCNOLOGY", "TECHNOLOGY")
replace assignee = regexr(assignee, "TEHNOLOGY", "TECHNOLOGY")
replace assignee = regexr(assignee, "TENCHOLOGY", "TECHNOLOGY")
replace assignee = regexr(assignee, "CENTRE", "CENTER")
replace assignee = regexr(assignee, "INSITUTE", "INSTITUTE")
replace assignee = regexr(assignee, "INSTITUT$", "INSTITUTE")
replace assignee = regexr(assignee, "INSTISTUTE", "INSTITUTE")
replace assignee = regexr(assignee, "INSTITUTE", "INSTITUTE")
replace assignee = regexr(assignee, "PARTNERS$", "PARTNERSHIP")
replace assignee = regexr(assignee, "PARTNESHIP", "PARTNERSHIP")
replace assignee = regexr(assignee, "TECHNOLGIES", "TECHNOLOGIES")
replace assignee = regexr(assignee, "TECHNOLOGIES", "TECHNOLOGIES")
replace assignee = regexr(assignee, "TECHNOLOPGIES", "TECHNOLOGIES")
replace assignee = regexr(assignee, "TECHOLOGIES", "TECHNOLOGIES")
replace assignee = regexr(assignee, "TECHONOLOGIES", "TECHNOLOGIES")
replace assignee = regexr(assignee, "TECNOLOGIES", "TECHNOLOGIES")
replace assignee = regexr(assignee, "COPORATION", "CORPORATION")
replace assignee = regexr(assignee, "CORPORATAION", "CORPORATION")
replace assignee = regexr(assignee, "CORPORTATION", "CORPORATION")
replace assignee = regexr(assignee, "CORPROATION", "CORPORATION")
replace assignee = regexr(assignee, "COPORATION", "CORPORATION")
replace assignee = regexr(assignee, "UNVERSITY", "UNIVERSITY")
replace assignee = regexr(assignee, "UNIVERSIT$", "UNIVERSITY")
*****************
	//combine entries that only differ by an and, an s, or a space
	replace assignee = itrim(trim(assignee))
	gen assignee2 = subinstr(assignee, " AND ", "",.)
		replace assignee2 = subinstr(assignee2, "S ", " ",.)
		replace assignee2 = regexr(assignee2, "S$", "")
		replace assignee2 = subinstr(assignee2, " ", "",.)		
		bysort assignee2 (assignee): replace assignee = assignee[1]
		drop assignee2
		
		
			
		
		
		
